<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Meal Plan</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script async defer src="https://apis.google.com/js/api.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <div id="auth-section">
    <button id="login-btn">Login Google</button>
    <button id="logout-btn" style="display:none;">Logout</button>
  </div>
  <h1>Meal Plan -- Don't be a pigeon !</h1>
  <!-- <button onclick="initClient()">üîê Log in and load the data</button> -->
  <section id="form-section">
    <h2>üìÖ CREATE NEW</h2>
    <form id="plan-form">
      <label>DATE: <input type="date" id="date" required></label><br>
      <label>SOURCE: <input type="text" id="restaurant" placeholder="‰æãÂ¶ÇÔºöÂ§ß‰ºóÁÇπËØÑ" required></label><br>
      <label>MEMBERS: </label>
      <label><input type="checkbox" name="members" value="A"> A</label>
      <label><input type="checkbox" name="members" value="B"> B</label>
      <label><input type="checkbox" name="members" value="C"> C</label>
      <label><input type="checkbox" name="members" value="D"> D</label><br>
      <label>NOTE: <input type="text" id="note" placeholder="ÂèØÈÄâ"></label><br>
      <button type="submit">‚ûï ADD PLAN</button>
    </form>
  </section>

  <section id="list-section">
    <h2>üìã PLAN LIST</h2>
    <table>
      <thead>
        <tr>
          <th> Date </th>
          <th> Source </th>
          <th> Member </th>
          <th> Completed </th>
          <th> Note </th>
          <th> Operation </th>
        </tr>
      </thead>
      <tbody id="plan-list"></tbody>
    </table>
  </section>

  <section id="rank-section">
    <h2>üê¶ PIGEON RANK</h2>
    <table>
      <thead>
        <tr><th>Member</th><th>Time</th><th>Operation</th></tr>
      </thead>
      <tbody id="pigeon-rank"></tbody>
    </table>
  </section>

  <footer>Made by üêß</footer>
  <script src="script.js"></script>
  <script>
    document.getElementById('login-btn').addEventListener('click', async () => {
      const GoogleAuth = gapi.auth2.getAuthInstance();
      if (!GoogleAuth.isSignedIn.get()) {
        await GoogleAuth.signIn();
      }
      await loadPlans();
    });
  </script>
</body>
</html>







